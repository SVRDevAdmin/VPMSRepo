@inject VPMSCustomer.Interface.IResourcesLocalizer LangResources
@inject IHttpContextAccessor httpContextaccessor

@{
    Layout = "~/Views/Shared/_Layout.cshtml";

    var sessionPatientID = httpContextaccessor.HttpContext.Session.GetString("PatientID");
}

<script type="text/javascript">
    $(document).ready(function(){
        loadPets();
    });

    function testtypemenutoggle(iRow){
        $('#dropdownmenu-testtype_' + iRow).toggle('show');
    }

    function loadPets()
    {
        $.getJSON("/Pets/GetPetsList/" + '@sessionPatientID')
         .done(function(result){
             if (result != null && result.data.length > 0)
             {
                 let iRow = 1;
                 for (var i = 0; i < result.data.length; i++)
                 {
                     var petID = result.data[i].id;
                     
                     var sCol = '';
                     sCol = '<div class="col-md-4 mt-5" style="height: 170px; border: 0px solid black;" onclick="showPanel(\'collapse_' + iRow + '\', ' + petID + ', ' + iRow + ');">' +
                            '<div class="row ms-1" style="height: 170px; border: 0px solid black; border-radius: 8px; background-color: ' + result.data[i].colorCode + ';">' +
                                
                            '<div class="col-md-6">' +

                            '<span class="mt-4 ms-3" style="display: inline-block;">' +
                            '<label class="GridBoxTitle">' + result.data[i].name + '</label><br/>' +
                            '<label class="GridBoxText">' + result.data[i].species + '</label><br />' +
                            '<label class="GridBoxText">1 Month</label><br />' +
                            '<label class="GridBoxText">' + result.data[i].gender + '</label>' +
                            '</span>' +

                            '</div>' +
                            '<div class="col-md-6">' +
                            '<img src="Images/Pets/' + result.data[i].avatarImage + '" class="petAvatarImg" />' +
                            '</div>' +

                            '</div>' +
                            '</div>';

                    var sPanel = '';
                    if ((i + 1) % 3 === 0)
                    {
                        sCol += populateContent(iRow);
                        iRow++;
                    }

                    $('#divPetGrid').append(sCol);
                 }
             }
         });
    }

    function populateContent(iRow)
    {
        let sPanel = '';

        sPanel += '<div id="collapse_' + iRow + '" class="row collapse mt-3 ms-3" style="width: 98%; height: 200px; background-color: pink; border-bottom-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px;">' +
                  '<div class="row mt-3">' + 

                  '<nav style="display: flex;">' +
                  '<div id="nav-tab" class="nav nav-tabs" role="tablist" style="width: 70%;">' +
                  '<button id="nav-overview-tab" class="nav-link active" data-bs-toggle="tab" data-bs-target="#nav-overview_' + iRow + '" role="tab" aria-controls="nav-overview_' + iRow + '" aria-selected="true">Overview</button>' +
                  '<button id="nav-medical-tab" class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-medical_' + iRow + '" role="tab" aria-controls="nav-medical_' + iRow + '" aria-selected="false">Medical Record</button>' +
                  '<button id="nav-treatment-tab" class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-treatment_' + iRow + '" role="tab" aria-controls="nav-treatment_' + iRow + '" aria-selected="false">Treatment Plan</button>' + 
                  '<button id="nav-testmanagement-tab" class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-testmanagement_' + iRow + '" role="tab" aria-controls="nav-testmanagement_' + iRow + '" aria-selected="false">Test Management</button>' +
                  '</div>' +
                  '<div class="d-flex justify-content-end" style="width: 30%;">' +
                  '<button id="btnMedical" type="button" class="btn btn-primary btn-sm">' +
                  '<i class="bi bi-download me-2"></i>Medical Record'  +
                  '</button>' +
                  '&nbsp;' +
                  '<button id="btnClosePanel" type="button" class="btn btn-sm" onclick="closePanel(\'collapse_' + iRow + '\');">' +
                  'Close Panel' +
                  '<i class="bi bi-x ms-2"></i>' +
                  '</button>' +
                  '</div>' +
                  '</nav>' + 

                  '<div id="nav-tabContent" class="tab-content mt-3 mb-3 ms-3">' + 
                  populatePanelOverview(iRow) + 
                  populatePanelMedical(iRow) + 
                  populatePanelTreatment(iRow) + 
                  populatePanelTestMgmt(iRow);
                  

        sPanel += '</div>' +   //nav-tabContent
                  '</div>' +
                  '</div>';

        return sPanel;
    }

    function populatePanelOverview(iRow){
        let sOverview = '';
        sOverview += '<div id="nav-overview_' + iRow + '" class="tab-pane fade show active" role="tabpanel" aria-labelledby="nav-home-tab">' + 

                     '<div class="row" style="background-color: white; border-radius: 6px;">' +
                     '<div class="row mt-4 ms-2">' +
                     '<div class="col-md-2">' +
                     '<label class="overviewTitle">Pet Name</label><br />' +
                     '<label id="lbPetName_' + iRow + '" class="overviewDisplayText"></label>' +
                     '</div>' +
                     '<div class="col-md-2">' +
                     '<label class="overviewTitle">Date of Birth</label><br />' + 
                     '<label id="lbDOB_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' + 
                     '<label class="overviewTitle">Age</label><br />' +
                     '<label id="lbAge_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' + 
                     '<label class="overviewTitle">Gender</label><br />' +
                     '<label id="lbGender_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' +
                     '<div class="col-md-2">' + 
                     '<label class="overviewTitle">Height (cm)</label><br />' + 
                     '<label id="lbHeight_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' + 
                     '<label class="overviewTitle">Weight (kg)</label><br />' + 
                     '<label id="lbWeight_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '</div>' + 
                     '<div class="row">&nbsp;</div>' + 
                     '<div class="row ms-2">' +
                     '<div class="col-md-2">' +
                     '<label class="overviewTitle">Breed</label><br />' + 
                     '<label id="lbBreed_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' +
                     '<label class="overviewTitle">Registration No.</label><br />' + 
                     '<label id="lbRegNo_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' + 
                     '<label class="overviewTitle">Allergies</label><br />' + 
                     '<label id="lbAllergies_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' + 
                     '<label class="overviewTitle">Species</label><br />' + 
                     '<label id="lbSpecies_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' + 
                     '<label class="overviewTitle">Color</label><br />' +
                     '<label id="lbColor_' + iRow + '" class="overviewDisplayText"></label>' + 
                     '</div>' + 
                     '<div class="col-md-2">' + 

                     '</div>' + 
                     '</div>' + 
                     '<div class="row">&nbsp;</div>' + 
                     '</div>' + 
                     '</div>';

        return sOverview;
    }

    function populatePanelMedical(iRow){
        let sMedia = '';
        sMedia += '<div id="nav-medical_' + iRow + '" class="tab-pane fade" role="tabpanel" aria-labelledby="nav-medical-tab">' + 
                  '<div class="row">' +

                  '<div class="col-md-4">' +
                  '<div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">' +
                  '<div id="divMedHistory_' + iRow + '" class="col ms-3">' + 

                  '<label class="medicalTitle">Vaccination</label>' +
                  // [Vaccine history] //
                  '</div>' + 
                  '</div>' + 
                  '</div>' + 

                  '<div class="col-md-4">' + 
                  '<div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">' +
                  '<div id="divMedicationHistory_' + iRow + '" class="col ms-3">' + 
                  '<label class="medicalTitle">Medication</label>' + 
                  // [Medication History] //
                  '</div>' +
                  '</div>' + 
                  '</div>' +

                  '<div class="col-md-4">' + 
                  '<div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">' + 
                  '<div id="divSurgeryHistory_' + iRow + '" class="col ms-3">' + 
                  '<label class="medicalTitle">Surgery</label>' + 
                  // [Surgery History] //
                  '</div>' + 
                  '</div>' + 
                  '</div>' + 
                  '</div>' + 
                  '</div>';

        return sMedia;
    }

    function populatePanelTreatment(iRow){
        let sTreatment = '';
        sTreatment = '<div id="nav-treatment_' + iRow + '" class="tab-pane fade" role="tabpanel" aria-labelledby="nav-treatment-tab">' + 
                     '<div class="row">' + 

                     '<div class="col-md-6">' + 
                     '<div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">' + 
                     '<div id="divActiveTreatmentPlan_' + iRow + '" class="col ms-3">' + 
                     '<label class="treatmentTitle">Active Treatments</label>' + 
                     // [Active Treatment Plan]  //
                     '</div>' + 
                     '</div>' + 
                     '</div>' + 

                     '<div class="col-md-6">' + 
                     '<div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">' + 
                     '<div id="divTreatmentPlanHistory_' + iRow + '" class="col ms-3">' + 
                     '<label class="treatmentTitle">Past Treatments</label>' + 
                     // [Past Treatment Plan] //
                     '</div>' + 
                     '</div>' + 
                     '</div>' + 

                     '</div>' + 
                     '</div>';

        return sTreatment;
    }

    function populatePanelTestMgmt(iRow){
        let sTestMgmt = '';
        sTestMgmt = '<div id="nav-testmanagement_' + iRow + '" class="tab-pane fade" role="tabpanel" aria-labelledby="nav-testmanagement-tab">' + 
                    '<div class="row">' + 

                    '<div class="row" style="background-color: white; border-top-left-radius: 6px; border-top-right-radius: 6px;">' +
                    '<div class="col-md-9">&nbsp;</div>' +
                    '<div class="col-md-3">' + 
                    '<div class="dropdown d-flex" style="width: 100%; margin-top: 5px;">' +
                    '<label style="font-size:13px; font-weight: bold; margin-right: 5px; margin-top: 2px;">Test Type : </label>' +
                    '<div id="testtypetoggle" class="dropdown-toggle" data-toggle="dropdown" onclick="testtypemenutoggle(' + iRow + ');" style="border: 0px solid red; width: 100px;">' +
                    '<label style="margin-left: 15px;">ABC</label>' + 
                    '</div>' + 
                    '<div id="dropdownmenu-testtype_' + iRow + '" class="dropdown-menu" style="margin-top: 25px; margin-left: 50px;">' +
                    // [Menu] //
                    '</div>' +
                    '</div>' + 
                    '</div>' +
                    '</div>' +

                    '<div class="row" style="background-color: white; border-radius: 6px;">' + 
                    '<table id="tblTestMgmt_' + iRow + '" class="table tblTestMgmt mt-4">' +
                    '<thead>' + 
                    '<tr>' + 
                    '<th scope="col" class="text-center" style="width: 5%;">No</th>' + 
                    '<th scope="col" class="text-left" style="width: 20%;">Time</th>' + 
                    '<th scope="col" class="text-left" style="width: 15%;">Test Type</th>' + 
                    '<th scope="col" class="text-left" style="width: 15%;">Result Status (+/-)</th>' + 
                    '<th scope="col" class="text-left" style="width: 15%;">Patient ID</th>' + 
                    '<th scope="col" class="text-left" style="width: 10%;">Operator ID</th>' + 
                    '<th scope="col" class="text-left" style="width: 15%;">Device Name</th>' + 
                    '</tr>' + 
                    '</thead>' + 

                    '<tbody>' + 
                    // [Body] //
                    '</tbody>' + 
                    '</table>' + 
                    '</div>' + 

                    '</div>' + 
                    '</div>';

        return sTestMgmt;
    }

    function showPanel(panel, petID, rowID){
        $('#' + panel).collapse('show');

        if (petID != null)
        {
            loadPetProfile(rowID, petID);
            loadPetTreatmentServiceHistory(rowID, petID);
            loadMedicationHistory(rowID, petID);
            loadActiveTreatmentPlan(rowID, petID);
            loadPastTreatmentPlan(rowID, petID);
            loadTestResultHistory(rowID, petID, 'All');
            loadTestResultTypeToggleMenu(rowID, petID);
        }
    }

    function closePanel(panel){
        $('#' + panel).collapse('hide');
    }

    function loadPetProfile(rowID, petID)
    {
        $.getJSON("/Pets/GetPetByID/" + petID)
         .done(function(result){
             if (result != null){
                 $('#lbPetName_' + rowID).html(result.data.name);
                 $('#lbDOB_' + rowID).html(moment(result.data.dob, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY'));
                 $('#lbAge_' + rowID).html(result.data.age);
                 $('#lbGender_' + rowID).html(result.data.gender);
                 $('#lbHeight_' + rowID).html(result.data.height + result.data.heightUnit);
                 $('#lbWeight_' + rowID).html(result.data.weight + result.data.weightUnit);
                 $('#lbBreed_' + rowID).html(result.data.breed);
                 $('#lbRegNo_' + rowID).html(result.data.registrationNo);
                 $('#lbAllergies_' + rowID).html(result.data.allergies);
                 $('#lbSpecies_' + rowID).html(result.data.species);
                 $('#lbColor_' + rowID).html(result.data.color);

                 $('#collapse_' + rowID).css('background', result.data.colorCode);
             }
         });
    }

    function loadPetTreatmentServiceHistory(rowID, petID)
    {
        $('#divSurgeryHistory_' + rowID).children('.medicalDisplayText').remove();
        $('#divMedHistory_' + rowID).children('.medicalDisplayText').remove();

        $.getJSON("Pets/GetTreatmentServices/" + petID)
         .done(function(result){
             if (result != null && result.data.length > 0)
             {
                 // -- Medical ----- //
                 var sVaccinationGroup = result.data.filter(function(obj){
                                            return (obj.categoryName == 'Vaccination');
                                        });

                 for (var i = 0; i < sVaccinationGroup.length; i++)
                 {
                     var sMedical = '';
                     sMedical = '<div class="medicalDisplayText mt-2">' +
                                sVaccinationGroup[i].subCategoryName + '<br />' +
                                sVaccinationGroup[i].serviceName + '<br />' +
                                moment(sVaccinationGroup[i].createdDate, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY') + '<br />' +
                                '</div>';

                     $('#divMedHistory_' + rowID).append(sMedical);
                 }

                // --- Surgery ----- //
                var sSurgeryGroup = result.data.filter(function(obj){
                                        return (obj.categoryName == "Surgery");
                                    });

                for (var x = 0; x < sSurgeryGroup.length; x++)
                {
                    var sSurgery = '';
                    sSurgery = '<div class="medicalDisplayText mt-2">' +
                               sSurgeryGroup[x].subCategoryName + '<br />' +
                               sSurgeryGroup[x].serviceName + '<br />' +
                               moment(sSurgeryGroup[x].createdDate, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY') + '<br />' +
                               '</div>';

                    $('#divSurgeryHistory_' + rowID).append(sSurgery);
                }
             }
         });
    }

    function loadMedicationHistory(rowID, petID)
    {
        $('#divMedicationHistory_' + rowID).children('.medicalDisplayText').remove();

        $.getJSON("/Pets/GetMedicalHistory/" + petID)
         .done(function(result){
             if (result.data != null && result.data.length > 0)
             {
                 for(var i = 0; i < result.data.length; i++)
                 {
                     var sMedicine = '';
                     sMedicine = '<div class="medicalDisplayText mt-2">' +
                                 result.data[i].productName + '<br />' +
                                 result.data[i].usage + '<br />' +
                                 moment(result.data[i].createdDate, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY') + '<br />' +
                                 '</div>';

                     $('#divMedicationHistory_' + rowID).append(sMedicine);
                 }
             }
         });
    }

    function loadActiveTreatmentPlan(rowID, petID)
    {
        $('#divActiveTreatmentPlan_' + rowID).children('.treatmentDisplayText').remove();

        $.getJSON("/Pets/GetActiveTreatmentPlan/" + petID)
         .done(function(result){
             if (result.data != null && result.data.length > 0)
             {
                 for (var i = 0; i < result.data.length; i++)
                 {
                     var sActiveTreatment = '';
                     sActiveTreatment = '<div class="treatmentDisplayText mt-2">' + 
                                        result.data[i].planName + '<br />' +
                                        'Treatment Period : ' + 
                                        moment(result.data[i].treatmentStart, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY') + ' - ' + 
                                        moment(result.data[i].treatmentEnd, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY') + '<br />' +
                                        '</div>';

                     $('#divActiveTreatmentPlan_' + rowID).append(sActiveTreatment);
                 }
             }
         })
    }

    function loadPastTreatmentPlan(rowID, petID)
    {
        $('#divTreatmentPlanHistory_' + rowID).children('.treatmentDisplayText').remove();

        $.getJSON("/Pets/GetPastTreatmentPlan/" + petID)
         .done(function(result){
             if (result.data != null && result.data.length > 0)
             {
                 for (var i = 0; i < result.data.length; i++)
                 {
                     var sActiveTreatment = '';
                     sActiveTreatment = '<div class="treatmentDisplayText mt-2">' +
                                        result.data[i].planName + '<br />' +
                                        'Treatment Period : ' + 
                                        moment(result.data[i].treatmentStart, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY') + ' - ' + 
                                        moment(result.data[i].treatmentEnd, 'YYYY-MM-DDThh:mm:ss').format('DD/MM/YYYY') + '<br />' +
                                        '</div>';

                     $('#divTreatmentPlanHistory_' + rowID).append(sActiveTreatment);
                 }
             }
         })
    }

    function loadTestResultTypeToggleMenu(rowID, petID)
    {
        $('#dropdownmenu-testtype_' + rowID).html('');

        $.getJSON("/Pets/GetPetTestResultHistory/" + petID + "/All")
         .done(function(result){
             if (result.data != null && result.data.length > 0)
             {
                 // --- Menu Toggle ---- //
                 var sTestGroup = result.data.map(x => x.resultType);
                 if (sTestGroup != null && sTestGroup.length > 0)
                 {
                     $('#dropdownmenu-testtype_' + rowID).append('<a class="dropdown-item">All</a>');

                     for (var x = 0; x < sTestGroup.length; x++)
                     {
                         let sToggleMenu = '';
                         sToggleMenu = '<a class="dropdown-item" onclick="loadTestResultHistory(\'' + rowID + '\', \'' + petID + '\', \'' + sTestGroup[x] + '\')">' + sTestGroup[x] + '</a>';

                         $('#dropdownmenu-testtype_' + rowID).append(sToggleMenu);
                     }
                 }

             }
         });
    }

    function loadTestResultHistory(rowID, petID, resultType)
    {
        $('#tblTestMgmt_' + rowID + ' tbody').html('');

        $.getJSON("/Pets/GetPetTestResultHistory/" + petID + "/" + resultType)
         .done(function(result){
             if (result.data != null && result.data.length > 0)
             {
                 for (var i = 0; i < result.data.length; i++)
                 {
                     var sTestResult = '';
                     sTestResult = '<tr>' +
                                    '<td class="text-center">' + result.data[i].seqNo + '</td>' +
                                    '<td>' + moment(result.data[i].resultDateTime, 'YYYY-MM-DDThh:mm:ss').format('DD-MM-YYYY hh:mm:ss A') + '</td>' +
                                    '<td>' + result.data[i].resultType + '</td>' +
                                    '<td>' + result.data[i].overallStatus + '</td>' +
                                    '<td>' + result.data[i].patientID + '</td>' +
                                    '<td>' + result.data[i].operatorID + '</td>' +
                                    '<td>' + result.data[i].deviceName +'</td>' +
                                    '</tr>';

                     $('#tblTestMgmt_' + rowID + ' tbody').append(sTestResult);
                 }
             }
             else
             {
                 var sNoRecord = '';
                 sNoRecord = '<tr>' + 
                             '<td class="text-left" colspan="7">No record.</td>' + 
                             '</tr>';

                $('#tblTestMgmt_' + rowID + ' tbody').append(sNoRecord);
             }
         })
    }
</script>

<style>
    .nav-tabs{
        border-bottom: 0 !important;
    }

    .nav-link {
        border: 0 !important;
        background-color: transparent !important;
        font-size: 12px;
        color: black;
    }

    .nav-link.active {
        border-bottom : 2px solid blue !important;
        color: blue !important;
        font-weight: bold;
    }

    .GridBoxTitle{
        font-size: 24px;
        font-weight: bold;
    }

    .GridBoxText{
        font-size: 12px;
    }

    .overviewTitle{
        color: black;
        font-size: 12px;
        font-weight: bold;
    }

    .overviewDisplayText{
        color: black;
        font-size: 12px;
    }

    .medicalTitle{
        color: blue;
        font-size: 12px;
        font-weight : bold;
    }
    
    .medicalDisplayText{
        color: black;
        font-size: 12px;
    }

    .treatmentTitle{
        color: blue;
        font-size: 12px;
        font-weight : bold;
    }

    .treatmentDisplayText{
        color: black;
        font-size: 12px;
    }

    .petAvatarImg{
        width: 150px;
        height: 160px;
        margin-top: -5px;
    }

    .tblTestMgmt > thead > tr > th {
        color: black !important;
        font-size: 12px !important;
        font-weight : bold !important;
        background-color: #f7f7f7 !important;
    }

    .tblTestMgmt > tbody > tr > td {
        color: black !important;
        font-size: 12px !important;
        border-bottom: 1px solid #ddd;
    }
</style>

<div class="row ms-3">
    <div class="row pt-4">
        <label class="pageTitle">
            Pets
        </label>
    </div>
    <div class="row">
        <div class="col-md-11">&nbsp;</div>
        <div class="col-md-1 mb-3" style="border: 0px solid black;">
            <div class="row ms-2 text-center" style="width: 38px; height: 38px; border: 1px solid black; border-radius: 6px;">
                <i class="bi bi-grid" style="margin-top: 5px;"></i>
            </div>
        </div>
    </div>
    <div class="row">
        <div id="divPetGrid" class="row">
            
@*             <div class="col-md-4 mt-5" style="height: 170px; border: 0px solid black;" onclick="showPanel('collapseA');">
                <div class="row ms-1" style="height: 170px; border: 0px solid black; border-radius: 8px; background-color: #f9dde7;">
                    <div class="col-md-6" style="border: 0px solid red;">
                        <span class="mt-4 ms-3" style="display: inline-block;">
                            <label style="font-size: 24px; font-weight: bold;">JonathanPet</label><br />
                            <label style="font-size: 12px;">Cat</label><br />
                            <label style="font-size: 12px;">1 Month</label><br />
                            <label style="font-size: 12px;">Female</label>
                        </span>
                    </div>
                    <div class="col-md-6" style="border: 0px solid red;">
                        <img src="~/Images/Pets/Avatar_Cat_1.png" style="border: 0px solid black; width: 150px; height: 160px; margin-top: -5px;" />
                    </div>
                </div>

            </div>
            
            <div class="col-md-4 mt-5" style="height: 170px; border: 0px solid black;" onclick="showPanel('collapseA');">
                <div class="row ms-1" style="height: 170px; border: 0px solid black; border-radius: 8px; background-color: #e1cbff;">
                    <div class="col-md-6" style="border: 0px solid red;">
                        <span class="mt-4 ms-3" style="display: inline-block;">
                            <label style="font-size: 24px; font-weight: bold;">Elsa</label><br />
                            <label style="font-size: 12px;">Cat</label><br />
                            <label style="font-size: 12px;">1 Month</label><br />
                            <label style="font-size: 12px;">Female</label>
                        </span>
                    </div>
                    <div class="col-md-6" style="border: 0px solid red;">
                        <img src="~/Images/Pets/Avatar_Dog_3.png" style="border: 0px solid black; width: 150px; height: 160px; margin-top: -5px;" />
                    </div>
                </div>
            </div>
            <div class="col-md-4 mt-5" style="height: 170px; border: 0px solid black;">
                <div class="row ms-1" style="height: 170px; border: 0px solid black; border-radius: 8px; background-color: #f9dde7;">
                    <div class="col-md-6" style="border: 0px solid red;">
                        <span class="mt-4 ms-3" style="display: inline-block;">
                            <label style="font-size: 24px; font-weight: bold;">Elsa</label><br />
                            <label style="font-size: 12px;">Cat</label><br />
                            <label style="font-size: 12px;">1 Month</label><br />
                            <label style="font-size: 12px;">Female</label>
                        </span>
                    </div>
                    <div class="col-md-6" style="border: 0px solid red;">
                        <img src="~/Images/Pets/Avatar_Dog_2.png" style="border: 0px solid black; width: 150px; height: 160px; margin-top: -5px;" />
                    </div>
                </div>
            </div>

            <div id="collapseA" class="row collapse mt-3 ms-3" style="width: 98%; height: 200px; background-color: pink; border-bottom-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px;">
                <div class="row mt-3">

                    <nav style="display: flex;">
                        <div id="nav-tab" class="nav nav-tabs" role="tablist" style="width: 70%;">
                            <button id="nav-overview-tab" class="nav-link active" data-bs-toggle="tab" data-bs-target="#nav-overview" role="tab" aria-controls="nav-overview" aria-selected="true">Overview</button>
                            <button id="nav-medical-tab" class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-medical" role="tab" aria-controls="nav-medical" aria-selected="false">Medical Record</button>
                            <button id="nav-treatment-tab" class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-treatment" role="tab" aria-controls="nav-treatment" aria-selected="false">Treatment Plan</button>
                            <button id="nav-testmanagement-tab" class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-testmanagement" role="tab" aria-controls="nav-testmanagement" aria-selected="false">Test Management</button>
                        </div>
                        <div class="d-flex justify-content-end" style="width: 30%;">
                            <button id="btnMedical" type="button" class="btn btn-primary btn-sm">
                                <i class="bi bi-download"></i>
                                Medical Record
                            </button>
                            &nbsp;
                            <button id="btnClosePanel" type="button" class="btn btn-sm" onclick="closePanel('collapseA');">
                                Close Panel
                                <i class="bi bi-x"></i>
                            </button>

                        </div>
                    </nav>

                    <div id="nav-tabContent" class="tab-content mt-3 mb-3 ms-3">

                        <div id="nav-overview" class="tab-pane fade show active" role="tabpanel" aria-labelledby="nav-home-tab">
                            <div class="row" style="background-color: white; border-radius: 6px;">
                                <div class="row mt-4 ms-2">
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Pet Name</label><br />
                                        <label id="lbPetName" class="overviewDisplayText">ANjing</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Date of Birth</label><br />
                                        <label id="lbDOB" class="overviewDisplayText">xx</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Age</label><br />
                                        <label id="lbAge" class="overviewDisplayText">Aa</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Gender</label><br />
                                        <label id="lbGender" class="overviewDisplayText">Ge</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Height (cm)</label><br />
                                        <label id="lbHeight" class="overviewDisplayText">188xx</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Weight (kg)</label><br />
                                        <label id="lbWeight" class="overviewDisplayText">99cm</label>
                                    </div>
                                </div>
                                <div class="row">&nbsp;</div>
                                <div class="row ms-2">
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Breed</label><br />
                                        <label id="lbBreed" class="overviewDisplayText">Breeeeeee</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Registration No.</label><br />
                                        <label id="lbRegNo" class="overviewDisplayText">rrrrrr</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Allergies</label><br />
                                        <label id="lbAllergies" class="overviewDisplayText">alaaaaaaa</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Species</label><br />
                                        <label id="lbSpecies" class="overviewDisplayText">ssssss</label>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="overviewTitle">Color</label><br />
                                        <label id="lbColor" class="overviewDisplayText">ccccc</label>
                                    </div>
                                    <div class="col-md-2">
                                        
                                    </div>
                                </div>
                                <div class="row">&nbsp;</div>
                            </div>
                        </div>

                        <div id="nav-medical" class="tab-pane fade" role="tabpanel" aria-labelledby="nav-medical-tab">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">
                                        <div class="col ms-3">
                                            <label class="medicalTitle">Vaccination</label>

                                            <div class="medicalDisplayText mt-2">
                                                Vaccination<br/>
                                                Vanguard DHLPP <br/>
                                                02/04/2024<br/>
                                            </div>
                                            <div class="medicalDisplayText mt-2">
                                                Vaccination<br />
                                                Vanguard DHLPP <br />
                                                02/04/2024<br />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">
                                        <div class="col ms-3">
                                            <label class="medicalTitle">Medication</label>

                                            <div class="medicalDisplayText mt-2">
                                                Vaccination<br />
                                                Vanguard DHLPP <br />
                                                02/04/2024<br />
                                            </div>
                                            <div class="medicalDisplayText mt-2">
                                                Vaccination<br />
                                                Vanguard DHLPP <br />
                                                02/04/2024<br />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">
                                        <div class="col ms-3">
                                            <label class="medicalTitle">Surgery</label>

                                            <div class="medicalDisplayText mt-2">
                                                Vaccination<br />
                                                Vanguard DHLPP <br />
                                                02/04/2024<br />
                                            </div>
                                            <div class="medicalDisplayText mt-2">
                                                Vaccination<br />
                                                Vanguard DHLPP <br />
                                                02/04/2024<br />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="nav-treatment" class="tab-pane fade" role="tabpanel" aria-labelledby="nav-treatment-tab">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">
                                        <div class="col ms-3">
                                            <label class="treatmentTitle">Active Treatments</label>

                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br/>
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="row me-2" style="background-color: white; border-radius: 6px; min-height: 150px;">
                                        <div class="col ms-3">
                                            <label class="treatmentTitle">Past Treatments</label>

                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                            <div class="treatmentDisplayText mt-2">
                                                UPPER GI ENDOSCOPY<Br />
                                                Treatment Period : 01/01/2024
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="nav-testmanagement" class="tab-pane fade" role="tabpanel" aria-labelledby="nav-testmanagement-tab">
                            <div class="row">
                                <!--<div class="col-md-12">-->
                                    <div class="row" style="background-color: white; border-top-left-radius: 6px; border-top-right-radius: 6px;">
                                        <div class="col-md-9">&nbsp;</div>
                                        <div class="col-md-3" style="border: 0px solid black;">
                                            <div class="dropdown d-flex" style="width: 100%; margin-top: 5px;">
                                                <label style="font-size:13px; font-weight: bold; margin-right: 5px; margin-top: 2px;">Test Type : </label>
                                                <div id="testtypetoggle" class="dropdown-toggle" data-toggle="dropdown" style="border: 0px solid red; width: 100px;">
                                                    <label style="margin-left: 15px;">ABC</label>
                                                </div>
                                                <div id="dropdownmenu-testtype" class="dropdown-menu" style="margin-top: 25px; margin-left: 50px;">
                                                    <a class="dropdown-item">A</a>
                                                    <a class="dropdown-item">B</a>
                                                    <a class="dropdown-item">C</a>
                                                    <a class="dropdown-item">D</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" style="background-color: white; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px;">
                                        <table id="tblTestMgmt" class="table mt-4">
                                            <thead>
                                                <tr>
                                                    <th scope="col" class="text-center" style="width: 5%;">No</th>
                                                    <th scope="col" class="text-left" style="width: 20%;">Time</th>
                                                    <th scope="col" class="text-left" style="width: 15%;">Test Type</th>
                                                    <th scope="col" class="text-left" style="width: 15%;">Result Status (+/-)</th>
                                                    <th scope="col" class="text-left" style="width: 15%;">Patient ID</th>
                                                    <th scope="col" class="text-left" style="width: 10%;">Operator ID</th>
                                                    <th scope="col" class="text-left" style="width: 15%;">Device Name</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="text-center">5</td>
                                                    <td>2024/12/22 12:59:59 PM</td>
                                                    <td>Test Type A</td>
                                                    <td>Positive</td>
                                                    <td>Patient aa</td>
                                                    <td>Operator AA</td>
                                                    <td>Device ZZZZZZZZZ</td>
                                                </tr>
                                                <tr>
                                                    <td>6</td>
                                                    <td>2024/12/22 12:59:59 PM</td>
                                                    <td>Test Type A</td>
                                                    <td>Positive</td>
                                                    <td>Patient aa</td>
                                                    <td>Operator AA</td>
                                                    <td>Device ZZZZZZZZZ</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                <!--</div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div> *@



        </div>
    </div>
</div>
